<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
<script>
    
    function power(base, exponent) {
        if(exponent === 0) return 1;
        if (exponent <= 1) return base;
        return power(base * 2, exponent - 1);
    }    

    // console.log(power(2, 4));
    
    function factorial(num, multi = num - 1) {
        if(num === 0 ) return 1;
        if(multi <= 1) return num;
    
        return factorial(num * multi, multi - 1);
    }

    // console.log(factorial(4));


    function productOfArray(arr) {
        if(arr.length === 1) return arr[0]
        if(arr.length < 1) return null;
        arr[arr.length - 2] = arr[arr.length - 1] * arr[arr.length - 2]
        arr.pop();
        return productOfArray(arr);
    }

    // console.log(productOfArray([1,2,3,10]));


    function binarySearch(arr, val) {
        let left = 0;
        let right = arr.length - 1;
        let middle = Math.floor((right + left) / 2);

        while (left < right) {
            if(arr[middle] === val) {
                return middle;
            } else if (val < arr[middle]) {
                right = middle - 1;
            } else if (val > arr[middle]) {
                left = middle + 1;
            }

            middle = Math.floor((right + left) / 2);
        }
        return arr[middle] === val ? middle : -1;
    }

    // console.log(binarySearch([1,2,3,4,5], 2));

    function bubbleSort(arr) {
        
        for(let i = arr.length; i > 0; i--) {
            let madeSwap = false;
            for(let y = 0; y < i - 1; y++) {
                let comparisonValue = arr[i]
                if(comparisonValue > arr[y]) {
                    arr[i] = arr[y];
                    arr[y] = comparisonValue;
                    madeSwap = true;
                } 
            }
            if(madeSwap) break;
        }

        return arr;
    }

    function selectionSort(arr) {
        for(let i = 0; i < arr.length; i++) {
            let minIndex = i;
            let minValue = arr[i];

            for(let y = i + 1; y < arr.length; y++) {
                if (arr[y] < minValue) {
                    minIndex = y;
                    minValue = arr[y];
                }
            }
            if(minValue < arr[i] && minValue !== arr[i]) {
                arr[minIndex] = arr[i];
                arr[i] = minValue
            } 
        }
        return arr;
    }


    // function insertionSort(arr) {
    //     for(let i = 1; i < arr.length; i++) {
    //         let currentValue = arr[i];
    //         for(let y = i - 1; y > 0; y--){
    //             if(currentValue > arr[y]) {
    //                 arr[y + 1] = currentValue;
    //             }
    //         }
    //     }
    //     return arr;
    // }

    function insertionSort(arr){
	var currentVal;
    for(var i = 1; i < arr.length; i++){
            currentVal = arr[i];
            for(var j = i - 1; j >= 0 && arr[j] > currentVal; j--) {
                if(arr[j] > currentVal) {
                    arr[j+1] = arr[j]
                }
                
                // console.log(arr);
            }
            arr[j+1] = currentVal;
        }
        return arr;
    }
    








    
    function merge(arr1, arr2) { // my initial solution
        let newArr = [];
        let i = 0;
        let j = 0;

        while (newArr.length !== arr1.length + arr2.length) {
            if(arr1[i] < arr2[j]) {
                newArr.push(arr1[i]);
                i++;
            } else {
                newArr.push(arr2[j]);
                j++;
            }
        }
        return newArr;
    }


    function merge(arr1, arr2) { // maybe slightly more efficient??? -- reduce conditional check amount
        let newArr = [];
        let i = 0;
        let j = 0;

        while (j < arr2.length && i < arr1.length) {
            if(arr1[i] < arr2[j]) {
                newArr.push(arr1[i]);
                i++;
            } else {
                newArr.push(arr2[j]);
                j++;
            }
        }

        while (j < arr2.length) {
            newArr.push(arr2[j]);
            j++;
        }

        while (i < arr1.length) {
            newArr.push(arr1[i]);
            i++;
        }

        return newArr;
    }

    // console.log(merge([1,2,3], [1,2,6,7]));

    function mergeSort(arr) {
        if(arr.length <= 1) return arr;

        let arr1 = mergeSort(arr.slice(0, Math.floor(arr.length / 2)));
        let arr2 = mergeSort(arr.slice(Math.floor(arr.length / 2)));

        // mergeSort(arr1);
        // mergeSort(arr2);
        
        return merge(arr1, arr2)
    }

    console.log(mergeSort([10,2,8,18,9,22,22,21,80,1]))
</script>
</body>
</html>